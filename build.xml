<?xml version="1.0" encoding="UTF-8"?>
<project name="Playzone" default="build" basedir=".">
    <target name="build"
            depends="vendors_install, vendors_update"/>

    <target name="vendors_install" description="Install vendors" depends="check-composer-lock" unless="composer.lock.present">
        <exec executable="composer" failonerror="true">
            <arg value="install"/>
            <arg value="-o"/>
            <arg value="--working-dir"/>
            <arg path="${basedir}"/>
        </exec>
    </target>

    <target name="vendors_update" description="Update vendors" depends="check-composer-lock" if="composer.lock.present">
        <exec executable="composer" failonerror="true">
            <arg value="update"/>
            <arg value="-o"/>
            <arg value="--working-dir"/>
            <arg path="${basedir}"/>
        </exec>
    </target>
</project>